<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Movie</title>
    @*<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.20/datatables.min.css" />
        <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.20/datatables.min.js"></script>*@
    
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.20/datatables.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

</head>
<body>
    <p>
        <a asp-action="Create">Create New</a>
    </p>

    <table id="moviesdt" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Likes</th>
                <th>Title</th>
                <th>Description</th>
                <th>Stock</th>
                <th>Rental Price</th>
                <th>Sale Price</th>
            </tr>
        </thead>
    </table>

    <script>
        $(document).ready(function () {
            var table = $('#moviesdt').DataTable({
                "processing": true,
                "serverSide": true,
                "ajax": {
                    "url": "@Url.Action("GetMovies", "Movies")",
                    "dataSrc": ""
                },
                "columns": [
                    { "data": "movieLikes.length", "orderable": true, "sortable":true},
                    { "data": "title", "orderable": true, "sortable":true},
                    { "data": "description", "orderable": false, "sortable":false},
                    { "data": "stock", "orderable": false, "sortable":false},
                    { "data": "rentalPrice", "orderable": false, "sortable":false},
                    { "data": "salePrice", "orderable": false, "sortable":false}
                ],
                pageLength: 2
            });

            // #myInput is a <input type="text"> element
            $('#globalSearch').on('keyup', function () {
                table.search(this.value).draw();
            });

            $('#globalSearchButton').on('click', function () {
                table.search($('#globalSearch').val()).draw();
            })
        });


    </script>

</body>

</html>
